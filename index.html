<!DOCTYPE html>
<html>
<head>
    <title>Telegram WebApp Test</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Telegram Web App
            window.Telegram.WebApp.ready();

               
            // Get the initialization data
            const initData = window.Telegram.WebApp.initDataUnsafe;
            
            // Display initialization data in the div
            const dataDiv = document.getElementById('initData');
            if (initData) {
                dataDiv.textContent = `Initialization Data: ${JSON.stringify(initData, null, 2)}`;
            } else {
                dataDiv.textContent = 'Initialization Data is not available.';
            }

            // Send data to your server
            function sendData() {
                // Sending data to the bot
                window.Telegram.WebApp.sendData(initData);

                // You can set a custom function to receive data from the bot
                window.Telegram.WebApp.onEvent('data', (data) => {
                    const responseDiv = document.getElementById('responseData');
                    responseDiv.textContent = `Received data: ${data}`;
                });

            }

            // Call sendData() when appropriate (e.g., on button click)
            document.getElementById('sendButton').addEventListener('click', sendData);
        });
    </script>
</head>
<body>
    <div id="initData">Loading initialization data...</div>
    <button id="sendButton">Send Data To Bot</button>
    <div id="responseData">Waiting for JWT Token...</div>
</body>
</html>
